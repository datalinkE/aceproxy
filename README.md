# AceProxy: Ace Stream HTTP Proxy

HTTP-прокси для Ace Stream. Позволяет смотреть трансляции Ace Stream и обычные видеофайлы с торрентов на любых устройствах, поддерживающих HTTP-видео (Smart TV, Android, STB). Имеется система плагинов, на данный момент, есть плагины для плейлистов Torrent-TV.ru, Torrent-telik.com, Allfon.tv.

P2PProxy плагин

Данный плагин эмулирует (повторяет) поведение P2pProxy и поддерживает большинство запросов, предназначенных для него.

Плагин создан для поддержки совместимости с софтом и виджетами, умеющими работать только с TS-Proxy\P2pProxy. Некоторые из них:

    Официальный виджет Торрент-ТВ для Smart-TV
    Комфортное ТВ++
    xbmc-addon-p2pproxy

Настройка

Для использования плагина, вы должны иметь аккаунт с VIP-статусом на Torrent-TV.

Данные о вашем аккаунте (почта и пароль) внесите в конфигурационный файл плагина /plugins/config/p2pproxy.py

P2pProxy по умолчанию использует порт 8081. Для поддержки совместимости с софтом, в котором жестко прописан порт для прокси, измените значение httpport в конфигурационном файле прокси aceconfig.py на нужный порт. При этом следите за тем, чтобы значение vlcoutport отличалось от значения httpport!
Полный перечень поддерживаемых команд:

    http://127.0.0.1:8081/channels/ - плейлист каналов. По умолчанию выдаст плейлист в формате XML. Доступны следующие параметры:
        type=m3u - плейлист в формате m3u
        group= - плейлист конкретной группы каналов. Группы: 1-детские; 2-музыка; 3-фильмы; 4-спорт; 5-общие; 6-познавательные; 7-новостные; 8-развлекательные; 9-взрослые; 10-мужские; 11-региональные; 12-религиозные; all - все группы
        filter=all|channel|moderation|translation|favourite - полный|постоянных каналов|на модерации|трансляции|избранных плейлист

Например: http://127.0.0.1:8081/channels/?filter=favourite&group=1&type=m3u

    http://127.0.0.1:8081/channels/play - воспроизвести канал. Доступны следующие параметры:
        id= - ID канала

Например: http://127.0.0.1:8081/channels/play?id=5462

    http://127.0.0.1:8081/archive/ - плейлист архива. Доступны следующие параметры:
        type=m3u - тип плейлиста m3u (без этого параметра плейлист в XML)
        date= - получить архив на конкретную дату. Формат: d-M-yyyy (30-6-2014)
        channel_id= - получить архив по конкретному каналу

Например: http://127.0.0.1:8081/archive/?type=m3u&date=30-6-2014&channel_id=17

    http://127.0.0.1:8081/archive/play - воспроизвести запись в архиве. Вещание осуществляется по протоколу HTTP. Доступны следующие параметры:
        id= - ID записи в архиве

Например: http://127.0.0.1:8081/archive/play?id=282375265

    http://127.0.0.1:8081/xbmc.pvr - плейлист в формате XML, полученный от Torrent-TV API. Нужно для xbmc-addon-p2pproxy. Без параметров.

